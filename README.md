# Configuring-SDL2-for-VS-Code

I was having difficulties with setting up SDL on my VS Code, so I decided to make a tutorial on it.

## Prerequisites

Before you begin, ensure you have the following software installed:

1. **Visual Studio Code**: Download from [the official website](https://code.visualstudio.com/).
2. **MSYS2**: Download from [the official website](https://www.msys2.org/).

## Installation Steps

1. **Set Up GCC AND MinGW-w64 toolchain**:
   - Follow the instructions on the [MSYS2 download page](https://www.msys2.org/) to set up GCC.
   - Follow the instructions on the [Get Started with C++ and MinGW-w64 in Visual Code](https://code.visualstudio.com/docs/cpp/config-mingw/) to install the MinGW-w64 toolchain.

2. **Update the Package Database**:
   - Open **MSYS2 UCRT64** from the Start menu.
   - In the MSYS2 terminal, run the following command to update the package database:
     ```bash
     pacman -Syu
     ```

3. **Install Required Packages**:
   - After updating, run the following command to install Git, the toolchain, and the SDL libraries:
     ```bash
     pacman -S git mingw-w64-x86_64-toolchain mingw64/mingw-w64-x86_64-SDL2 mingw64/mingw-w64-x86_64-SDL2_mixer mingw64/mingw-w64-x86_64-SDL2_image mingw64/mingw-w64-x86_64-SDL2_ttf mingw64/mingw-w64-x86_64-SDL2_net mingw64/mingw-w64-x86_64-cmake make
     ```

4. **Add MSYS2 to Environment Variables**:
   - Open the Start menu and search for **Edit environment variables for your account**.
   - In the User variables window, select the **Path** variable and click **Edit**.
   - Select **New** and add the following paths:
     ```
     C:\msys64\mingw64\bin
     ```
   - Move this entry above:
     ```
     C:\msys64\ucrt64\bin
     ```

5. **Create a C Project in VS Code**:
   - Open Visual Studio Code and Open a Project file (I recommend installing a **Code Runner** Extension in VS Code)
   - Create a new file named `hello.c` and add the following code:

     ```c
     #define SDL_MAIN_HANDLED
     #include <stdio.h>
     #include <SDL2/SDL.h>

     const int WIDTH = 800, HEIGHT = 600;

     int main(int argc, char *argv[]) {
       SDL_Window *window;
       SDL_Renderer *renderer;
       if(SDL_Init(SDL_INIT_EVERYTHING) < 0) {
         printf("SDL_Init failed: %s\n", SDL_GetError());
         return 1;
       }

       window = SDL_CreateWindow("Hello, World!",
                                         SDL_WINDOWPOS_UNDEFINED,
                                         SDL_WINDOWPOS_UNDEFINED,
                                         WIDTH, HEIGHT,
                                         SDL_WINDOW_ALLOW_HIGHDPI);
       if(window == NULL) {
         printf("Could not create window: %s\n", SDL_GetError());
         return 1;
       }
       
       renderer = SDL_CreateRenderer(window, -1, 0);
       SDL_SetRenderDrawColor(renderer, 255, 0, 0, 255);
       SDL_RenderClear(renderer);

       SDL_RenderPresent(renderer);
       
       SDL_Event event;
       while(1) {
         if(SDL_PollEvent(&event)) {
           if(event.type == SDL_QUIT) {
             break;
           }
         }
       }

       SDL_DestroyWindow(window);
       SDL_Quit();
       return 0;
     }
     ```

6. **Edit `task.json`**:
   - **MAKE SURE TO RUN YOUR C/C++ FILE BEFORE THIS STEP FOR THE .jason FILES TO APPEAR**
   - In your project folder, edit a file named `.vscode/task.json` and add the following content:

     ```json
     {
         "tasks": [
             {
                 "type": "cppbuild",
                 "label": "C/C++: gcc.exe build active file",
                 "command": "C:\\msys64\\mingw64\\bin\\gcc.exe",
                 "args": [
                     "-fdiagnostics-color=always",
                     "-g",
                     "${file}",
                     "-o",
                     "${fileDirname}\\${fileBasenameNoExtension}.exe",
                     "-lSDL2main",
                     "-lSDL2",
                     "-lmingw32",
                     "-mwindows"
                 ],
                 "options": {
                     "cwd": "${fileDirname}"
                 },
                 "problemMatcher": [
                     "$gcc"
                 ],
                 "group": {
                     "kind": "build",
                     "isDefault": true
                 },
                 "detail": "Task generated by Debugger."
             }
         ],
         "version": "2.0.0"
     }
     ```

7. **Edit `c_cpp_properties.json`**:
   - In your project folder, Edit a file named `.vscode/c_cpp_properties.json` and add the following content:

     ```json
     {
         "configurations": [
             {
                 "name": "Win32",
                 "includePath": [
                     "${workspaceFolder}/**"
                 ],
                 "defines": [
                     "_DEBUG",
                     "UNICODE",
                     "_UNICODE"
                 ],
                 "compilerPath": "C:\\msys64\\mingw64\\bin\\gcc.exe",
                 "cStandard": "c17",
                 "cppStandard": "gnu++17",
                 "intelliSenseMode": "windows-gcc-x64"
             }
         ],
         "version": 4
     }
     ```

8. **Build and Run the Program**:
   - Open the terminal in VS Code and navigate to the directory containing `hello.c`.
   - Use the following command to compile your program:
     ```bash
     gcc -o hello hello.c -lSDL2main -lSDL2 -lmingw32 -mwindows
     ```
   - Then, run the executable:
     ```bash
     ./hello.exe
     ```
